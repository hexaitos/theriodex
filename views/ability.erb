<div class="corner">
	<a class="corner" href="/show/ability/<%= id %>?lang=<%= lang %>">Direct link</a>

	<form action="<%= request.path_info %>" method="get" id="language_select">
		<select id="lang-select" name="lang" required>
			<option value="en">ğŸŒ English</option>
			<option value="de">ğŸŒ Deutsch</option>
			<option value="fr">ğŸŒ FranÃ§ais</option>
			<option value="it">ğŸŒ Italiano</option>
			<option value="ja">ğŸŒ æ—¥æœ¬èª</option>
			<option value="zh-cn">ğŸŒ ä¸­æ–‡ï¼ˆç®€ä½“ï¼‰</option>
			<option value="zh-tw">ğŸŒ ä¸­æ–‡ï¼ˆç¹é«”ï¼‰</option>
		</select>
	</form>
</div>

<script>
document.querySelector('#language_select').addEventListener("change", (event) => {
	document.querySelector('#language_select').submit(); 
});

window.onload = () => {
	const urlParams = new URLSearchParams(window.location.search);
	const lang = urlParams.has('lang') ? urlParams.get('lang') : 'en';
	document.querySelector('#lang-select').value = lang;
};
</script>
<h1><%= ability_name %></h1>
<p class="ability"><%= ability_information %></p>
<br />

<h2>PokÃ©mon with this ability</h2>
<div class="search">
	<div>
	<% pokemon_with_ability.each do | id, info | %>
		<a href="/show/<%= id %>?lang=<%= lang %>"><img src="<%= info[:sprite] %>"/><br /><%= info[:name] %></a><br /> 
	<% end %>
	</div>
</div>